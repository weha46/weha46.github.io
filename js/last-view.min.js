window.addEventListener("DOMContentLoaded",()=>{const t=5,n=window.location.pathname,s=/^\/posts\/(anime|comics|movies|games)\/.+$/.test(n);if(s){const e=$(".post-title")?.innerText.trim(),n=$("img.post-img")?.getAttribute("src")||"";if(e){const o={url:window.location.href,title:e,image:n};let s=JSON.parse(localStorage.getItem("lastViewed"))||[];s=s.filter(e=>e.url!==o.url),s.unshift(o),s=s.slice(0,t),localStorage.setItem("lastViewed",JSON.stringify(s))}}const e=$("#last-viewed-list");if(e){const t=JSON.parse(localStorage.getItem("lastViewed"))||[];e.innerHTML="",t.forEach(t=>{const n=document.createElement("li");n.className="relative flex flex-1 justify-start items-center group gap-x-0 w-full h-full bg-cover overflow-hidden rounded bg-gray-200 dark:bg-gray-900 ";const s=t.image||"/images/default.png";n.innerHTML=`
        <img loading="lazy" src="${s}" alt="gambar-${t.title}" class="w-full h-full opacity-0 group-hover:opacity-100 transition duration-500 ease-in-out object-cover"/>
        <div class="absolute inset-0 w-full h-full flex justify-center items-center opacity-100 transition duration-500 ease-in-out px-4 text-2xl">
          <h2><a href="${t.url}" data-tippy-content="${t.title}" class="hover:underline break-words line-clamp-2 text-xl font-light dark:font-extralight">${t.title}</a></h2>
        </div>
      `,e.appendChild(n)})}})